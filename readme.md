注入的方式一般可以分为 声明式 和 编程式。声明式就是通过配置信息，告诉系统应该去哪里去取什么插件，系统运行时会按照约定与配置去加载对应的插件。类似 Babel，可以通过在配置文件中填写插件名称，运行时就会去 modules 目录下去查找对应的插件并加载。编程式的就是系统提供某种注册 API，开发者通过将插件传入 API 中来完成注册。  
#  插件化架构
插件化架构是一种将软件系统拆分成可独立开发、部署和升级的模块化设计方法。在前端开发中，插件化架构允许开发人员将系统的功能模块化成插件，并动态地加载、卸载和管理这些插件，从而实现系统的灵活性和可扩展性。
以下是实现前端插件化架构的一般步骤和要点：
- 定义插件接口：确定系统中需要插件化的功能点，并定义清晰的插件接口。这些接口包括插件的生命周期方法、事件钩子、API调用等，用于规范插件的开发和集成。
- 插件注册与管理：实现一个插件注册与管理系统，用于管理系统中的所有插件。这个系统可以包括插件的注册、加载、卸载、更新等功能，确保插件能够被系统正确地加载和运行。
- 动态加载插件：通过动态加载机制，实现在运行时动态加载插件代码。可以使用动态import、webpack的Code Splitting等技术来实现插件的按需加载，减少系统的启动时间和资源占用。
- 插件通信：确保插件之间能够进行有效的通信和协作。可以通过事件总线、消息队列、全局状态管理等方式来实现插件之间的通信，从而实现功能的组合和扩展。
- 安全性考虑：在实现插件化架构时，务必考虑安全性。确保插件的加载和执行不会带来安全风险，可以采用沙箱执行、权限控制等方式来增强系统的安全性。
- 版本管理与兼容性：管理插件的版本和兼容性，确保新版本的插件能够与系统正确地集成并保持兼容。可以通过语义化版本控制、版本锁定、自动化测试等方式来管理插件的版本和兼容性。
- 文档和示例：为插件开发者提供详细的文档和示例代码，帮助他们快速理解和使用插件化框架。这样可以促进插件生态的发展，吸引更多开发者参与插件开发和贡献。
- 通过以上步骤和要点，可以构建一个灵活、可扩展的前端插件化架构，实现系统的功能定制化、功能扩展和功能组合，为用户提供更加灵活和个性化的用户体验。